<!DOCTYPE html>
<html lang="en">
<head>
  <script src="js/jquery-2.1.4.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/d3.min.js"></script>
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=EB+Garamond" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Oswald:300,400" rel="stylesheet">
  <title>Big Circle</title>
</head>

<body>
  <header>
    <div class="container.fluid">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <a class="navbar-brand" href="index.html">Laura South</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav">
          <a class="nav-item nav-link" href="/index.html">Home</a>
          <a class="nav-item nav-link" href="/projects.html">Recent Projects</a>
          <a class="nav-item nav-link" href="/timeline.html">Music</a>
          <a class="nav-item nav-link active" href="/album-work/">Album Visualizations</a>
        </div>
      </div>
   </nav>
   </div>
  </header>
      <div class="container">
        <br>
        <div class="row">
        <div class="col-md">
            <div class="card">
              <h4 class="strangedesire text-center"> Strange Desire</h4>
              <div id="strangedesire-div"></div>
            </div>
          </div>
    </div>
      <br>
</body>

<script type="text/javascript" src="js/album-visualization.js"></script>
<script type="text/javascript">
  function drawBigCircle(album_csv, lyrics_csv, div){
    var className = album_csv.substr(0,album_csv.length - 4);
    var margin = { top: 0, left: 20, bottom: 40, right: 10 };
    var color = d3.scaleOrdinal(d3.schemeCategory20);
    var parentDiv = d3.select("#" + div);
    var width = $("#" + div).width();
    var height = width;

    d3.csv(album_csv, function(song_data){
        var svg = parentDiv.append("svg").attr("width", width).attr("height", width);
        var g = svg.append("g").attr("transform","translate(" + width / 2 + ", " + height / 2 + ")");
        g.append("circle")
          .attr("r", (width - margin.left - margin.right) / 4)
          .attr("stroke","black")
          .attr("fill","white");
        d3.csv(lyrics_csv, function(lyrics_data){
              var group = g.append("g")
                        .selectAll("g")
                        .data(lyrics_data)
                        .enter()
                        .append("g");

              group.append("text")
                      .each(d => { d.angle = (d.startAngle + d.endAngle) / 2; })
                      .attr("dy", ".35em")
                      .attr("transform", d => `
                        rotate(${(d.angle * 180 / Math.PI - 90)})
                        translate(${innerRadius + 26})
                        ${d.angle > Math.PI ? "rotate(180)" : ""}
                      `)
                      .attr("text-anchor", d => d.angle > Math.PI ? "end" : null)
                      .text(d => debate_data.nodes[d.index].label);
        }); // end lyrics csv
      }); // end album csv
  }
  drawBigCircle("strangedesire.csv","strangedesire-lyrics.csv","strangedesire-div");
</script>
